<!DOCTYPE html>
<html>
<head>
<title>getImageData to invert image colours</title>
<style>
body { margin: 0; body: 0; } 
canvas { margin: 30px auto 0; display: block; }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<img src="remysharp_avatar.jpg" />
<script>
var canvas = document.getElementById('canvas'), 
    img = document.querySelector('img'),
    ctx = canvas.getContext('2d');
    
// wait until the image has loaded
window.onload = function () {
  ctx.drawImage(img, 0, 0);
  var pixels = ctx.getImageData(0, 0, img.width, img.height);
  for (var i = 0; i < pixels.data.length; i += 4) {
    for (var j = 0; j < 4; j++) {
      pixels.data[i+j] = 255 - pixelsdata[i+j];
    }
  }
  ctx.putImageData(pixels.data, 0, 0, img.width, img.height);
};
</script>
</body>
</html>